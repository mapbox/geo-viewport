{
  "name": "stream-spigot",
  "version": "2.1.2",
  "description": "A readable stream generator, useful for testing or converting simple functions into Readable streams.",
  "main": "index.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/brycebaril/node-stream-spigot"
  },
  "directories": {
    "test": "test"
  },
  "scripts": {
    "test": "tap test/"
  },
  "keywords": [
    "streams2",
    "testing",
    "readable"
  ],
  "author": {
    "name": "Bryce B. Baril"
  },
  "license": "MIT",
  "devDependencies": {
    "concat-stream": "~1.0.0",
    "tap": "~0.4.3"
  },
  "dependencies": {
    "readable-stream": "~1.1.0"
  },
  "readme": "Stream Spigot\n=============\n\nA generator for (streams2) Readable streams, useful for testing or converting simple lazy functions into Readable streams.\n\n```\nnpm install stream-spigot\n```\n\nExamples:\n\n```javascript\nvar spigot = require(\"stream-spigot\")\n\nspigot([\"ABCDEFG\"]).pipe(process.stdout)\n// ABCDEFG\n\nspigot([\"ABC\", \"DEF\", \"G\"]).pipe(process.stdout)\n// ABCDEFG\n\nvar count = 0\nfunction gen() {\n  if (count++ < 5) {\n    return {val: count}\n  }\n}\n\nspigot({objectMode: true}, gen).pipe(...)\n/*\n{val: 1}\n{val: 2}\n{val: 3}\n{val: 4}\n{val: 5}\n*/\n\n// Do it asynchronously: (next expects fn(err, data))\nfunction get(next) {\n  some_async_op(/*..*/, next)\n}\nspigot(get).pipe(...)\n\n```\n\nUsage\n=====\n\n```javascript\nvar spigot = require(\"stream-spigot\")\n\nvar stream = spigot(some_function)\n// or\nvar stream = spigot(array)\n// or\nvar stream = spigot({objectMode: true}, )\n```\n\n\nspigot([options,] fn)\n----------\n\nUntil I settle on a better API, spigot will sniff the arity of the generator function you pass it. If your function expects no arguments, it will call it synchronously and buffer each reply as a chunk. Return null to end the stream.\n\nIf the generator function expects a single argument, it expects it to be asynchronous. It will call your function like so: `generator(next)` where it proivides `next` as a callback expecting to be called like `next(err, data)`. If an error is encountered, spigot will emit an \"error\" event with your error. If there is no error, data will be buffered into the stream. The stream will be ended if data is ever null.\n\nspigot([options,] array)\n------------------------\n\nThe spigot will consecutively write each element from the specified array as a buffered chunk until the array has been consumed. If the array contains contents other than Strings or Buffers, you should consider using `{objectMode: true}` to create this as an objectMode stream.\n\nIf your array contains a `null` value, the stream will end at that value instead of consuming the entire array.\n\nSending an array is equivalent to doing the following:\n\n```javascript\nvar a = [\"my\", \"array\"]\nfunction fn() {\n  return a.shift()\n}\n\nvar stream = spigot(fn)\n// will be equivalent to\nvar stream = spigot(a)\n```\n\nOptions\n-------\n\nAccepts standard [readable-stream](http://npmjs.org/api/stream.html) options.\n\nLICENSE\n=======\n\nMIT\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/brycebaril/node-stream-spigot/issues"
  },
  "homepage": "https://github.com/brycebaril/node-stream-spigot",
  "_id": "stream-spigot@2.1.2",
  "_from": "stream-spigot@~2.1.2"
}
